<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Project Manager - Test Suite</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/9.2.2/mocha.min.css" />
		<style>
			/* Keep Mocha visible but hide the app elements */
			body {
				font-family: monospace;
			}
			#app-container {
				visibility: hidden;
				position: absolute;
				width: 0;
				height: 0;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<!-- Test runner UI -->
		<div id="mocha"></div>

		<!-- Hidden container for the app's DOM elements needed by tests -->
		<div id="app-container">
			<canvas id="canvas"></canvas>
			<div id="sidebar">
				<div id="toolbar">
					<input type="checkbox" id="excludeWeekends" checked />
				</div>
			</div>
			<div id="taskModal">
				<input type="text" id="taskName" />
				<input type="number" id="taskDays" />
				<input type="text" id="taskDesc" />
				<input type="checkbox" id="taskDone" />
			</div>
		</div>

		<!-- Test Libraries -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/9.2.2/mocha.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/chai/4.3.6/chai.min.js"></script>

		<!-- Test Setup -->
		<script>
			mocha.setup("bdd");
			const expect = chai.expect;
		</script>
		<script src="test/test-setup.js"></script>

		<!-- Application Source Code -->
		<script type="module" src="js/firebase.js"></script>
		<script src="js/config.js"></script>
		<script src="js/state.js"></script>
		<script src="js/dom.js"></script>
		<script src="js/task.js"></script>
		<script src="js/logic.js"></script>
		<script src="js/renderer.js"></script>
		<script src="js/storage.js"></script>
		<script src="js/ui.js"></script>
		<script src="js/projectManager.js"></script>
		<script src="js/taskManager.js"></script>
		<script src="js/inputHandler.js"></script>
		<script src="js/coachmarks.js"></script>
		<script src="js/app.js"></script>
		<!-- Renderer, UI, InputHandler, Coachmarks are not needed for logic tests -->

		<!-- Test Files -->
		<script src="test/logic.test.js"></script>
		<script src="test/storage.test.js"></script>
		<script src="test/projectManager.test.js"></script>
		<script src="test/taskManager.test.js"></script>

		<!-- Run Tests -->
		<script>
			window.onload = function () {
				mocha.run();
			};
		</script>
	</body>
</html>
